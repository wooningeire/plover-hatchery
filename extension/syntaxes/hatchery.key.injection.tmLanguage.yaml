$schema: https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json

name: Hatchery dictionary injected key
scopeName: meta.key.injection.hatchery
injectionSelector: L:support.type.property-name.toml

patterns:
  - { include: "#keys" }


repository:
  keys:
    patterns:
      - { include: "#ids" }
      - name: meta.key.hatchery
        match: ([@#^])([^ @#^]+)
        captures:
          1: { name: storage.hatchery }
          2:
            patterns:
              - { include: "#ids" }
      - name: meta.key.hatchery
        match: ([^ @#^]+)(\^)
        captures:
          1:
            patterns:
              - { include: "#ids" }
          2: { name: storage.hatchery }
          
  ids:
    patterns:
      - name: meta.id.hatchery
        match: ([^ @#^!?.\[\]()]+)
        captures:
          1: { name: variable.hatchery }
